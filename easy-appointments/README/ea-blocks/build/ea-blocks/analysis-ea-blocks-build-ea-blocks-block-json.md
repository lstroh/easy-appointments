# File Analysis: easy-appointments/ea-blocks/build/ea-blocks/block.json

## High-Level Overview

This file is the standard `block.json` metadata file for the "EA Booking Form" Gutenberg block. It is a declarative JSON file that tells WordPress everything it needs to know about this specific block: its name, title, settings, and the asset files (JavaScript/CSS) it requires to function. It serves as the block's official registration and configuration manifest, forming the bridge between the block's code and the WordPress editor.

This file is located in the `build` directory, indicating that it is the compiled output from a source file, likely located at `easy-appointments/ea-blocks/src/ea-blocks/block.json`.

## Detailed Explanation

### Key JSON Properties

This file contains no executable code, only key-value pairs that define the block's properties:

-   **`name`**: `"create-block/ea-blocks"` — The unique machine-readable name that identifies the block within WordPress.
-   **`title`**: `"EA Booking Form"` — The human-readable name displayed in the WordPress block editor.
-   **`category`**: `"widgets"` — The section in the block inserter where this block is grouped.
-   **`attributes`**: This object defines the block's data model and configurable settings. Each attribute has a `type` and a `default` value.
    -   Key attributes include `location`, `service`, and `worker`, which are used to specify which booking options the form should display.
    -   Other attributes like `width`, `layoutCols`, and `defaultDate` provide further customization.
-   **`editorScript`**: `"file:./index.js"` — Specifies the main JavaScript file to be loaded when the block is used within the WordPress editor. This script is responsible for the admin-side experience.
-   **`viewScript`**: `"file:./view.js"` — Specifies the JavaScript file to be loaded when the block is viewed on the public-facing side of the website. This script provides the interactive booking functionality to the end-user.
-   **`editorStyle`** and **`style`**: These fields define the CSS files for the editor and the frontend, respectively, ensuring the block is styled correctly in all contexts.

### Interaction with WordPress Core or Database

-   This file itself does not interact with the database or WordPress APIs. It is a static declaration file.
-   WordPress Core reads this file to understand the block. Based on the `editorScript` and `viewScript` entries, WordPress's script loader enqueues the specified JavaScript files. These scripts then make API calls to the REST endpoints (defined in `ea-blocks.php`) to fetch data.

## Features Enabled

### Admin Menu

-   **Block Availability**: This file makes the "EA Booking Form" block discoverable and usable within the WordPress post/page editor.
-   **Block Settings Panel**: The `attributes` defined here directly create the settings panel in the editor's sidebar for this block, allowing administrators to configure the booking form's width, layout, and default location/service/worker.

### User-Facing

-   **Frontend Booking Form**: By defining the `viewScript` (`view.js`) and `style` (`style-index.css`), this file ensures that the necessary assets are loaded on the live site to render a fully functional and styled booking form for visitors.

## Extension Opportunities

-   **Safe Extension Method**: To modify this block, you must edit the **source file** located at `easy-appointments/ea-blocks/src/ea-blocks/block.json` and then run the plugin's build process. **Do not edit this file in the `build` directory directly**, as your changes will be overwritten.
-   **Adding New Settings**: You can safely extend the block's functionality by adding new entries to the `attributes` object in the source `block.json`. For example, to add an option to hide the price, you could add:
    ```json
    "showPrice": {
      "type": "boolean",
      "default": true
    }
    ```
    You would then need to implement the logic for this new attribute in the block's JavaScript files (`index.js`/`edit.js` and `view.js`).

## Next File Recommendations

1.  **`easy-appointments/ea-blocks/src/ea-blocks/index.js`** — This is the `editorScript` specified in the `block.json`. It is the most critical file for understanding the block's administrative interface, how it uses React components for its settings, and how it communicates with the plugin's REST APIs to populate its dropdowns.
2.  **`easy-appointments/ea-blocks/src/ea-blocks/view.js`** — This is the `viewScript`. Analyzing this file will explain how the booking form is rendered on the frontend, how it handles user input, and how it manages the state of the booking process for a site visitor.
3.  **`easy-appointments/ea-blocks/src/ea-fullcalendar/block.json`** — Comparing the `block.json` of the "Booking Form" with that of the "Full Calendar" block will provide insight into the architectural similarities and differences between the two. It helps in understanding the overall block strategy for the plugin.

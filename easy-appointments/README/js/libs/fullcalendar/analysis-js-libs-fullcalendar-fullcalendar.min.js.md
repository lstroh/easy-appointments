# File Analysis: `js/libs/fullcalendar/fullcalendar.min.js`

## High-Level Overview

This file is the minified, production version of the FullCalendar library (v3.10.0), a powerful and widely-used open-source JavaScript event calendar. As a minified file, it is compressed and optimized for fast browser loading, not for human reading or modification.

Within the Easy Appointments plugin, this file is the engine that drives all calendar-based views. It is responsible for rendering the calendar interface, displaying appointments as events, and handling all user interactions such as navigating between months, clicking on events, and selecting time ranges. It is a client-side library that depends on **jQuery** for DOM manipulation and **Moment.js** for date and time calculations, both of which are loaded by the plugin as dependencies.

## Detailed Explanation

This file contains the complete, albeit obfuscated, source code for the FullCalendar library. It does not interact directly with WordPress APIs, hooks, or the database. Instead, it provides a comprehensive API that is configured and controlled by the plugin's own JavaScript files (like `report.prod.js` and the Gutenberg block's JavaScript).

Its core responsibilities include:

-   **Calendar Rendering:** Dynamically generating the HTML and CSS for various calendar views (e.g., `month`, `agendaWeek`, `agendaDay`, `listWeek`).
-   **Event Data Source:** Fetching and processing event data. It can accept events as a simple array or, as is common in this plugin, be configured to fetch them dynamically from a URL (typically a WordPress REST API endpoint).
-   **Interaction Handling:** Managing user input, including:
    -   `click` and `hover` on events.
    -   `select` for clicking and dragging over a time slot.
    -   `eventDrop` and `eventResize` for moving or changing the duration of an event.
-   **Configuration:** The library is initialized on a specific DOM element (e.g., `$('#calendar').fullCalendar({...})`) with a large configuration object. This object defines the calendar's appearance, behavior, data sources, and callback functions.

## Features Enabled

This file is a foundational library and does not, by itself, create user-facing features. It is the tool used by other parts of the plugin to build those features.

### Admin Menu

-   **Reports Calendar:** This library is initialized by the plugin's admin JavaScript to render the calendar found under **Appointments -> Reports *NEW***. The admin-specific scripts configure FullCalendar to fetch all appointments from the database (via an AJAX/REST endpoint) and display them to the administrator.

### User-Facing

-   **`[ea_full_calendar]` Shortcode & Block:** The library is used on the front-end to display a calendar of available appointments. The plugin's front-end scripts initialize FullCalendar with specific settings, such as the `events` source pointing to an endpoint that returns available time slots rather than existing appointments.

## Extension Opportunities

**CRITICAL: Do NOT edit `fullcalendar.min.js` directly.** It is a minified, third-party library. Any changes will be overwritten by plugin updates and will likely break functionality.

Safe extension is achieved by tapping into the FullCalendar initialization script within the plugin's own JavaScript files. You can use the extensive callback and event system provided by the FullCalendar API.

1.  **Identify the Initialization Script:** You must first locate the JavaScript file that contains the `...fullCalendar({...})` call. This will be in a file like `report.prod.js` for the admin report or within the Gutenberg block's source files for the front-end block.
2.  **Use Callbacks:** Modify the configuration object to include custom callbacks.

**Example: Add a tooltip to events on hover**

Let's assume you've found the initialization script. You could add the `eventMouseover` callback to display a tooltip (using a library like Tippy.js, which you would also need to load).

```javascript
// In the plugin's JS file where FullCalendar is initialized...

$('#my-calendar').fullCalendar({
    // ... existing options like views, header, etc.
    events: '/wp-json/ea/v1/appointments',

    // ---- ADD THIS CALLBACK ----
    eventMouseover: function(event, jsEvent, view) {
        // Use the 'event' object which contains all data for the appointment
        tippy(this, { // 'this' is the event's DOM element
            content: event.description || event.title,
            animation: 'scale',
        });
    }
    // ---- END OF ADDITION ----
});
```

This is a non-destructive way to add new behavior by leveraging the library's intended extension points.

## Next File Recommendations

1.  **`easy-appointments/ea-blocks/ea-blocks.php`**: Now that we've covered the FullCalendar JS and CSS, the next logical step is to see how the plugin registers the Gutenberg block that uses it. This file is the server-side entry point for that functionality.
2.  **`easy-appointments/css/eafront.css`**: This is the plugin's own stylesheet for the front-end booking flow. Analyzing it will provide insight into how the plugin styles the user experience around the calendar, including the booking form and other elements.
3.  **`easy-appointments/ea-blocks/src/ea-fullcalendar/index.js`**: This is the client-side counterpart to `ea-blocks.php`. It contains the JavaScript that defines the Gutenberg block's behavior in the editor and likely holds the `fullCalendar({...})` initialization code for the block itself.
